
const data = [
    {
        "day": 12,
        "month": 3,
        "year": 2024,
        "roza": 1,
        "sehri": {
            "hour": 5,
            "min": 26
        },
        "iftar": {
            "hour": 18,
            "min": 50
        },
        "fajr": {
            "hour": 5,
            "min": 37
        },
        "zuhr": {
            "hour": 6,
            "min": 49
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 48
        }
    },
    {
        "day": 13,
        "month": 3,
        "year": 2024,
        "roza": 2,
        "sehri": {
            "hour": 5,
            "min": 25
        },
        "iftar": {
            "hour": 18,
            "min": 50
        },
        "fajr": {
            "hour": 5,
            "min": 36
        },
        "zuhr": {
            "hour": 6,
            "min": 48
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 48
        }
    },
    {
        "day": 14,
        "month": 3,
        "year": 2024,
        "roza": 3,
        "sehri": {
            "hour": 5,
            "min": 24
        },
        "iftar": {
            "hour": 18,
            "min": 50
        },
        "fajr": {
            "hour": 5,
            "min": 35
        },
        "zuhr": {
            "hour": 6,
            "min": 48
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 48
        }
    },
    {
        "day": 15,
        "month": 3,
        "year": 2024,
        "roza": 4,
        "sehri": {
            "hour": 5,
            "min": 24
        },
        "iftar": {
            "hour": 18,
            "min": 50
        },
        "fajr": {
            "hour": 5,
            "min": 34
        },
        "zuhr": {
            "hour": 6,
            "min": 47
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 48
        }
    },
    {
        "day": 16,
        "month": 3,
        "year": 2024,
        "roza": 5,
        "sehri": {
            "hour": 5,
            "min": 23
        },
        "iftar": {
            "hour": 18,
            "min": 51
        },
        "fajr": {
            "hour": 5,
            "min": 33
        },
        "zuhr": {
            "hour": 6,
            "min": 46
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 49
        }
    },
    {
        "day": 17,
        "month": 3,
        "year": 2024,
        "roza": 6,
        "sehri": {
            "hour": 5,
            "min": 22
        },
        "iftar": {
            "hour": 18,
            "min": 51
        },
        "fajr": {
            "hour": 5,
            "min": 33
        },
        "zuhr": {
            "hour": 6,
            "min": 45
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 49
        }
    },
    {
        "day": 18,
        "month": 3,
        "year": 2024,
        "roza": 7,
        "sehri": {
            "hour": 5,
            "min": 21
        },
        "iftar": {
            "hour": 18,
            "min": 51
        },
        "fajr": {
            "hour": 5,
            "min": 32
        },
        "zuhr": {
            "hour": 6,
            "min": 44
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 49
        }
    },
    {
        "day": 19,
        "month": 3,
        "year": 2024,
        "roza": 8,
        "sehri": {
            "hour": 5,
            "min": 20
        },
        "iftar": {
            "hour": 18,
            "min": 51
        },
        "fajr": {
            "hour": 5,
            "min": 31
        },
        "zuhr": {
            "hour": 6,
            "min": 44
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 50
        }
    },
    {
        "day": 20,
        "month": 3,
        "year": 2024,
        "roza": 9,
        "sehri": {
            "hour": 5,
            "min": 19
        },
        "iftar": {
            "hour": 18,
            "min": 52
        },
        "fajr": {
            "hour": 5,
            "min": 30
        },
        "zuhr": {
            "hour": 6,
            "min": 43
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 50
        }
    },
    {
        "day": 21,
        "month": 3,
        "year": 2024,
        "roza": 10,
        "sehri": {
            "hour": 5,
            "min": 19
        },
        "iftar": {
            "hour": 18,
            "min": 52
        },
        "fajr": {
            "hour": 5,
            "min": 29
        },
        "zuhr": {
            "hour": 6,
            "min": 42
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 50
        }
    },
    {
        "day": 22,
        "month": 3,
        "year": 2024,
        "roza": 11,
        "sehri": {
            "hour": 5,
            "min": 18
        },
        "iftar": {
            "hour": 18,
            "min": 52
        },
        "fajr": {
            "hour": 5,
            "min": 28
        },
        "zuhr": {
            "hour": 6,
            "min": 41
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 50
        }
    },
    {
        "day": 23,
        "month": 3,
        "year": 2024,
        "roza": 12,
        "sehri": {
            "hour": 5,
            "min": 18
        },
        "iftar": {
            "hour": 18,
            "min": 52
        },
        "fajr": {
            "hour": 5,
            "min": 27
        },
        "zuhr": {
            "hour": 6,
            "min": 40
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 50
        }
    },
    {
        "day": 24,
        "month": 3,
        "year": 2024,
        "roza": 13,
        "sehri": {
            "hour": 5,
            "min": 17
        },
        "iftar": {
            "hour": 18,
            "min": 53
        },
        "fajr": {
            "hour": 5,
            "min": 26
        },
        "zuhr": {
            "hour": 6,
            "min": 39
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 51
        }
    },
    {
        "day": 25,
        "month": 3,
        "year": 2024,
        "roza": 14,
        "sehri": {
            "hour": 5,
            "min": 16
        },
        "iftar": {
            "hour": 18,
            "min": 53
        },
        "fajr": {
            "hour": 5,
            "min": 26
        },
        "zuhr": {
            "hour": 6,
            "min": 38
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 51
        }
    },
    {
        "day": 26,
        "month": 3,
        "year": 2024,
        "roza": 15,
        "sehri": {
            "hour": 5,
            "min": 15
        },
        "iftar": {
            "hour": 18,
            "min": 53
        },
        "fajr": {
            "hour": 5,
            "min": 25
        },
        "zuhr": {
            "hour": 6,
            "min": 38
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 51
        }
    },
    {
        "day": 27,
        "month": 3,
        "year": 2024,
        "roza": 16,
        "sehri": {
            "hour": 5,
            "min": 14
        },
        "iftar": {
            "hour": 18,
            "min": 54
        },
        "fajr": {
            "hour": 5,
            "min": 24
        },
        "zuhr": {
            "hour": 6,
            "min": 37
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 51
        }
    },
    {
        "day": 28,
        "month": 3,
        "year": 2024,
        "roza": 17,
        "sehri": {
            "hour": 5,
            "min": 13
        },
        "iftar": {
            "hour": 18,
            "min": 54
        },
        "fajr": {
            "hour": 5,
            "min": 23
        },
        "zuhr": {
            "hour": 6,
            "min": 36
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 52
        }
    },
    {
        "day": 29,
        "month": 3,
        "year": 2024,
        "roza": 18,
        "sehri": {
            "hour": 5,
            "min": 12
        },
        "iftar": {
            "hour": 18,
            "min": 54
        },
        "fajr": {
            "hour": 5,
            "min": 22
        },
        "zuhr": {
            "hour": 6,
            "min": 35
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 52
        }
    },
    {
        "day": 30,
        "month": 3,
        "year": 2024,
        "roza": 19,
        "sehri": {
            "hour": 5,
            "min": 11
        },
        "iftar": {
            "hour": 18,
            "min": 55
        },
        "fajr": {
            "hour": 5,
            "min": 21
        },
        "zuhr": {
            "hour": 6,
            "min": 34
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 52
        }
    },
    {
        "day": 31,
        "month": 3,
        "year": 2024,
        "roza": 20,
        "sehri": {
            "hour": 5,
            "min": 10
        },
        "iftar": {
            "hour": 18,
            "min": 55
        },
        "fajr": {
            "hour": 5,
            "min": 20
        },
        "zuhr": {
            "hour": 6,
            "min": 33
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 52
        }
    },
    {
        "day": 1,
        "month": 4,
        "year": 2024,
        "roza": 21,
        "sehri": {
            "hour": 5,
            "min": 9
        },
        "iftar": {
            "hour": 18,
            "min": 55
        },
        "fajr": {
            "hour": 5,
            "min": 19
        },
        "zuhr": {
            "hour": 6,
            "min": 33
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 53
        }
    },
    {
        "day": 2,
        "month": 4,
        "year": 2024,
        "roza": 22,
        "sehri": {
            "hour": 5,
            "min": 8
        },
        "iftar": {
            "hour": 18,
            "min": 55
        },
        "fajr": {
            "hour": 5,
            "min": 18
        },
        "zuhr": {
            "hour": 6,
            "min": 32
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 53
        }
    },
    {
        "day": 3,
        "month": 4,
        "year": 2024,
        "roza": 23,
        "sehri": {
            "hour": 5,
            "min": 7
        },
        "iftar": {
            "hour": 18,
            "min": 55
        },
        "fajr": {
            "hour": 5,
            "min": 17
        },
        "zuhr": {
            "hour": 6,
            "min": 31
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 53
        }
    },
    {
        "day": 4,
        "month": 4,
        "year": 2024,
        "roza": 24,
        "sehri": {
            "hour": 5,
            "min": 6
        },
        "iftar": {
            "hour": 18,
            "min": 56
        },
        "fajr": {
            "hour": 5,
            "min": 16
        },
        "zuhr": {
            "hour": 6,
            "min": 30
        },
        "asr": {
            "hour": 5,
            "min": 8
        },
        "magrib": {
            "hour": 17,
            "min": 8
        },
        "isha": {
            "hour": 18,
            "min": 53
        }
    },
    {
        "day": 5,
        "month": 4,
        "year": 2024,
        "roza": 25,
        "sehri": {
            "hour": 5,
            "min": 5
        },
        "iftar": {
            "hour": 18,
            "min": 56
        },
        "fajr": {
            "hour": 5,
            "min": 16
        },
        "zuhr": {
            "hour": 6,
            "min": 29
        },
        "asr": {
            "hour": 5,
            "min": 7
        },
        "magrib": {
            "hour": 17,
            "min": 7
        },
        "isha": {
            "hour": 18,
            "min": 54
        }
    },
    {
        "day": 6,
        "month": 4,
        "year": 2024,
        "roza": 26,
        "sehri": {
            "hour": 5,
            "min": 4
        },
        "iftar": {
            "hour": 18,
            "min": 56
        },
        "fajr": {
            "hour": 5,
            "min": 15
        },
        "zuhr": {
            "hour": 6,
            "min": 28
        },
        "asr": {
            "hour": 5,
            "min": 7
        },
        "magrib": {
            "hour": 17,
            "min": 7
        },
        "isha": {
            "hour": 18,
            "min": 54
        }
    },
    {
        "day": 7,
        "month": 4,
        "year": 2024,
        "roza": 27,
        "sehri": {
            "hour": 5,
            "min": 3
        },
        "iftar": {
            "hour": 18,
            "min": 56
        },
        "fajr": {
            "hour": 5,
            "min": 14
        },
        "zuhr": {
            "hour": 6,
            "min": 28
        },
        "asr": {
            "hour": 5,
            "min": 7
        },
        "magrib": {
            "hour": 17,
            "min": 7
        },
        "isha": {
            "hour": 18,
            "min": 54
        }
    },
    {
        "day": 8,
        "month": 4,
        "year": 2024,
        "roza": 28,
        "sehri": {
            "hour": 5,
            "min": 2
        },
        "iftar": {
            "hour": 18,
            "min": 56
        },
        "fajr": {
            "hour": 5,
            "min": 13
        },
        "zuhr": {
            "hour": 6,
            "min": 27
        },
        "asr": {
            "hour": 5,
            "min": 7
        },
        "magrib": {
            "hour": 17,
            "min": 7
        },
        "isha": {
            "hour": 18,
            "min": 54
        }
    },
    {
        "day": 9,
        "month": 4,
        "year": 2024,
        "roza": 29,
        "sehri": {
            "hour": 5,
            "min": 2
        },
        "iftar": {
            "hour": 18,
            "min": 57
        },
        "fajr": {
            "hour": 5,
            "min": 12
        },
        "zuhr": {
            "hour": 6,
            "min": 26
        },
        "asr": {
            "hour": 5,
            "min": 7
        },
        "magrib": {
            "hour": 17,
            "min": 7
        },
        "isha": {
            "hour": 18,
            "min": 55
        }
    },
    {
        "day": 10,
        "month": 4,
        "year": 2024,
        "roza": 30,
        "sehri": {
            "hour": 5,
            "min": 0
        },
        "iftar": {
            "hour": 18,
            "min": 57
        },
        "fajr": {
            "hour": 5,
            "min": 11
        },
        "zuhr": {
            "hour": 6,
            "min": 25
        },
        "asr": {
            "hour": 5,
            "min": 7
        },
        "magrib": {
            "hour": 17,
            "min": 7
        },
        "isha": {
            "hour": 18,
            "min": 55
        }
    }
]

function padTime(time = '') {
    if (time < 10) {
        return `0${time}`;
    } else {
        return time;
    }
}
function findData(day, month, nextDay) {
    const index = data.findIndex((currDate) => {
        if (currDate.day === day && currDate.month === month) {
            return true;
        } else {
            return false;
        }
    });

    if (nextDay) {
        return data[index + 1];
    } else {
        return data[index];
    }
}

function generateDateString(dateObj, identifier) {
    const year = padTime(dateObj.year);
    const month = padTime(dateObj.month);
    const day = padTime(dateObj.day);
    const hour = padTime(dateObj[identifier]?.hour);
    const min = padTime(dateObj[identifier]?.min);
    return `${year}-${month}-${day} ${hour}:${min}:00`
}

function getDateDiff(date, identifier) {
    const d1 = new Date();
    const d2 = new Date(generateDateString(date, identifier));
    const diffInMilliseconds = d2.getTime() - d1.getTime();
    const MILISECONDS_MINUTE = 1000 * 60;
    const MILISECONDS_HOUR = MILISECONDS_MINUTE * 60;
    const MILISECONDS_DAY = MILISECONDS_HOUR * 24
    return {
        date,
        identifier,
        timeDiff: {
            days: Math.floor(diffInMilliseconds / MILISECONDS_DAY),
            hours: Math.floor((diffInMilliseconds % MILISECONDS_DAY) / MILISECONDS_HOUR),
            minutes: Math.floor((diffInMilliseconds % MILISECONDS_HOUR) / MILISECONDS_MINUTE),
            seconds: Math.floor((diffInMilliseconds % MILISECONDS_MINUTE) / 1000),
        }
    };
}

function getData() {
    const today = new Date();
    let currentDate;
    const todaysData = findData(today.getDate(), today.getMonth() + 1);
    currentDate = getDateDiff(todaysData, 'sehri');
    if (currentDate.timeDiff.days === -1) {
        currentDate = getDateDiff(todaysData, 'iftar');
        if (currentDate.timeDiff.days === -1) {
            currentDate = getDateDiff(
                findData(today.getDate(), today.getMonth() + 1, true),
                'sehri'
            );
        }
    }
    return currentDate;
}

